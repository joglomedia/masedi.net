<?php// Add our function to the widgets_init hookadd_action( 'widgets_init', 'social_media_badge_widget' );//Register widgetfunction social_media_badge_widget() {	register_widget( 'social_badge_widget' );}class social_badge_widget extends WP_Widget {	function social_badge_widget() {			/* Widget settings. */		$widget_ops = array( 'classname' => 'social_badge_widget', 'description' => __('A widget that displays your social badge.', 'wpnuke') );		/* Widget control settings. */		$control_ops = array( 'width' => 100, 'height' => 200, 'id_base' => 'social_badge_widget' );		/* Create the widget. */		$this->WP_Widget( 'social_badge_widget', __('WPNuke - Social Media Badge', 'wpnuke'), $widget_ops, $control_ops );	}	// Display the Widget	function widget( $args, $instance ) {		extract( $args );		/* User settings. */		$title = apply_filters('widget_title', $instance['title'] );		$fblink = $instance['fblink'];		$gpluslink = $instance['gpluslink'];		$gplusonelink = $instance['gplusonelink'];		$gplustext = $instance['gplustext'];		$twitteraccount = $instance['twitteraccount'];		/* Before widget (defined by themes). */		echo $before_widget;		/* Title of widget (before and after defined by themes). */		if ( $title )			echo $before_title . $title . $after_title;		/* Display Social Badge */		?>			<div class="fb-like" data-href="<?php echo $fblink ?>" data-send="false" data-width="268" data-show-faces="true"></div>			<div class="follow-btn"><a href="https://twitter.com/<?php echo $twitteraccount ?>" class="twitter-follow-button">Follow @<?php echo $twitteraccount ?></a></div>			<div class="gplus-btn"><div class="g-plusone" data-size="medium" data-href="<?php echo $gplusonelink ?>"></div><span><?php echo $gplustext ?></span></div>			<div class="gplus-badge"><div class="g-plus" data-href="<?php echo $gpluslink ?>" data-size="smallbadge"></div></div>			<?php 		/* After widget (defined by themes). */		echo $after_widget;	}	// Update and save widget	function update( $new_instance, $old_instance ) {		$instance = $old_instance;		$instance['title'] = strip_tags( $new_instance['title'] );		$instance['fblink'] = strip_tags( $new_instance['fblink'] );		$instance['gpluslink'] = strip_tags( $new_instance['gpluslink'] );		$instance['gplusonelink'] = strip_tags( $new_instance['gplusonelink'] );		$instance['gplustext'] = strip_tags( $new_instance['gplustext'] );		$instance['twitteraccount'] = strip_tags( $new_instance['twitteraccount'] );		return $instance;	}		// Widget settings	function form( $instance ) {		/* Set up some default widget settings. */		$defaults = array(		'title' => '',		'fblink' => 'http://www.facebook.com/WpNukeThemes',		'gpluslink' => 'https://plus.google.com/106973446615020369204',		'gplusonelink' => 'http://wpnuke.com',		'gplustext' => 'Recommend on Google',		'twitteraccount' => 'WPNuke'		);		$instance = wp_parse_args( (array) $instance, $defaults ); ?>		<!-- Text Input -->		<p>			<label for="<?php echo $this->get_field_id( 'title' ); ?>"><?php _e('Title:', 'wpnuke') ?></label>			<input class="widefat" id="<?php echo $this->get_field_id( 'title' ); ?>" name="<?php echo $this->get_field_name( 'title' ); ?>" value="<?php echo $instance['title']; ?>" />		</p>		<p>			<label for="<?php echo $this->get_field_id( 'fblink' ); ?>"><?php _e('Facebook page link:', 'wpnuke') ?></label>			<input class="widefat" id="<?php echo $this->get_field_id( 'fblink' ); ?>" name="<?php echo $this->get_field_name( 'fblink' ); ?>" value="<?php echo $instance['fblink']; ?>" />		</p>		<p>			<label for="<?php echo $this->get_field_id( 'gpluslink' ); ?>"><?php _e('Google+ page link:', 'wpnuke') ?></label>			<input class="widefat" id="<?php echo $this->get_field_id( 'gpluslink' ); ?>" name="<?php echo $this->get_field_name( 'gpluslink' ); ?>" value="<?php echo $instance['gpluslink']; ?>" />		</p>		<p>			<label for="<?php echo $this->get_field_id( 'gplusonelink' ); ?>"><?php _e('Google plusone link:', 'wpnuke') ?></label>			<input class="widefat" id="<?php echo $this->get_field_id( 'gplusonelink' ); ?>" name="<?php echo $this->get_field_name( 'gplusonelink' ); ?>" value="<?php echo $instance['gplusonelink']; ?>" />		</p>		<p>			<label for="<?php echo $this->get_field_id( 'gplustext' ); ?>"><?php _e('Text next to Google plusone button:', 'wpnuke') ?></label>			<input class="widefat" id="<?php echo $this->get_field_id( 'gplustext' ); ?>" name="<?php echo $this->get_field_name( 'gplustext' ); ?>" value="<?php echo $instance['gplustext']; ?>" />		</p>		<p>			<label for="<?php echo $this->get_field_id( 'twitteraccount' ); ?>"><?php _e('Twitter account:', 'wpnuke') ?></label>			<input class="widefat" id="<?php echo $this->get_field_id( 'twitteraccount' ); ?>" name="<?php echo $this->get_field_name( 'twitteraccount' ); ?>" value="<?php echo $instance['twitteraccount']; ?>" />		</p>			<?php	}}?>